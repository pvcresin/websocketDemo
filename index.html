<!doctype html>
<html>

<head>
	<title>Socket.IO</title>
	<script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
</head>

<body>
	<ul></ul>
	<input />

	<script>
		const socket = io()
		const input = document.querySelector('input')
		input.addEventListener('keydown', e => {
			if (e.keyCode === 13) {
				socket.emit('chat message', e.currentTarget.value)
				input.value = ''
			}
		})
		socket.on('chat message', function (msg) {
			const ul = document.querySelector('ul')
			const li = document.createElement('li')
			li.textContent = msg
			ul.appendChild(li)
		})
	</script>
</body>

</html>